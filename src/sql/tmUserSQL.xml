<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="tmUser">

	<insert id="insertMember" parameterType="TmUserDTO">
		insert into tmUser (id,pw,name,nickname,birth,email,gender,reg)  values (#{id},#{pw},#{name},#{nickname},#{birth},#{email},#{gender},sysdate)
	</insert>
	
	<select id="idPwCheck" parameterType="TmUserDTO" resultType="int">
		select count(*) from tmUser where id=#{id} and pw=#{pw}
	</select>
	
	<select id="emailCheck" parameterType="string" resultType="int">
		select count(*) from tmUser where email=#{email}
	</select>
	
	<select id="getMemInfo" parameterType="string" resultType="TmUserDTO">
		select * from tmUser where email=#{email}
	</select>
	
	<select id="idEmailCheck" parameterType="TmUserDTO" resultType="int">
		select count(*) from tmUser where id=#{id} and email=#{email}
	</select>
	
	<update id="pwChange" parameterType="TmUserDTO">
		update tmUser set pw=#{pw} where id=#{id}
	</update>	
	

	<select id="getMember" parameterType="string" resultType="TmUserDTO">
		select * from tmUser where id=#{id}

	<select id="getGender" parameterType="string" resultType="int">
		select gender from tmUser where id=#{id}
	</select>
	
</mapper>